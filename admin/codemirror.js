var CodeMirror=function(){function l(a,b){function c(e){return 0<=e&&e<q.size}function d(e){for(var a=q;!a.lines;)for(var k=0;;++k){var b=a.children[k],o=b.chunkSize();if(e<o){a=b;break}e-=o}return a.lines[e]}function g(e,a){ha=!0;for(var k=a-e.height,b=e;b;b=b.parent)b.height+=k}function f(e){var a={line:0,ch:0};K(a,{line:q.size-1,ch:d(q.size-1).text.length},Ma(e),a,a);na=!0}function h(){n.scrollTop&&(s.scrollTop+=n.scrollTop,n.scrollTop=0);if(Na!=s.scrollTop||ic!=n.scrollLeft)if(Na=s.scrollTop,
ic=n.scrollLeft,xa([]),j.fixedGutter&&(R.style.left=n.scrollLeft+"px"),j.onScroll)j.onScroll(A)}function E(e){if(!j.onDragEvent||!j.onDragEvent(A,Oa(e))){e.preventDefault();var a=Pa(e,!0),k=e.dataTransfer.files;if(a&&!j.readOnly)if(k&&k.length&&window.FileReader&&window.File)for(var e=function(e,k){var d=new FileReader;d.onload=function(){o[k]=d.result;++c==b&&(a=z(a),m(function(){var e=Q(o.join(""),a,a);aa(a,e)})())};d.readAsText(e)},b=k.length,o=Array(b),c=0,d=0;d<b;++d)e(k[d],d);else if(!cb||C(a,
i.from)||C(i.to,a))try{(o=e.dataTransfer.getData("Text"))&&jc(function(){var e=i.from,k=i.to;aa(a,a);cb&&Q("",e,k);L(o);ba()})}catch(g){}}}function ia(e){var a=db();e.dataTransfer.setData("Text",a);if(Fa||kc||ya)a=document.createElement("img"),a.scr="data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=",e.dataTransfer.setDragImage(a,0,0)}function x(e,a){if("string"==typeof e&&(e=lc[e],!e))return!1;var k=ca;try{j.readOnly&&(eb=!0),a&&(ca=null),e(A)}catch(b){if(b!=Eb)throw b;return!1}finally{ca=
k,eb=!1}return!0}function mc(e){function a(){c=!0}var k=Fb(j.keyMap),b=k.auto;clearTimeout(nc);var o;if(o=b)o=za[M(e,"keyCode")],o=!("Ctrl"==o||"Alt"==o||"Shift"==o||"Mod"==o);o&&(nc=setTimeout(function(){Fb(j.keyMap)==k&&(j.keyMap=b.call?b.call(null,A):b)},50));o=za[M(e,"keyCode")];var d=!1;if(null==o||e.altGraphKey)return!1;M(e,"altKey")&&(o="Alt-"+o);M(e,"ctrlKey")&&(o="Ctrl-"+o);M(e,"metaKey")&&(o="Cmd-"+o);var c=!1,d=M(e,"shiftKey")?fb("Shift-"+o,j.extraKeys,j.keyMap,function(e){return x(e,!0)},
a)||fb(o,j.extraKeys,j.keyMap,function(e){if("string"==typeof e&&/^go[A-Z]/.test(e))return x(e)},a):fb(o,j.extraKeys,j.keyMap,x,a);c&&(d=!1);d&&(F(e),gb(),oa&&(e.oldKeyCode=e.keyCode,e.keyCode=0));return d}function ga(e){Y||N();oa&&27==e.keyCode&&(e.returnValue=!1);Ga&&hb()&&(Ga=!1);if(!j.onKeyEvent||!j.onKeyEvent(A,Oa(e))){var a=M(e,"keyCode");oc(16==a||M(e,"shiftKey"));var k=mc(e);ya&&(Gb=k?a:null,!k&&(88==a&&M(e,Hb?"metaKey":"ctrlKey"))&&L(""))}}function N(){if("nocursor"!=j.readOnly){if(!Y){if(j.onFocus)j.onFocus(A);
Y=!0;-1==n.className.search(/\bCodeMirror-focused\b/)&&(n.className+=" CodeMirror-focused");Qa||ib(!0)}v();gb()}}function O(){if(Y){if(j.onBlur)j.onBlur(A);Y=!1;pa&&m(function(){pa&&(pa(),pa=null)})();n.className=n.className.replace(" CodeMirror-focused","")}clearInterval(Ib);setTimeout(function(){Y||(ca=null)},150)}function pc(e){var a=0,k=0;if("DOMMouseScroll"==e.type){var b=8*-e.detail;e.axis==e.HORIZONTAL_AXIS?a=b:e.axis==e.VERTICAL_AXIS&&(k=b)}else void 0!==e.wheelDeltaX&&void 0!==e.wheelDeltaY?
(a=e.wheelDeltaX/3,k=e.wheelDeltaY/3):void 0!==e.wheelDelta&&(k=e.wheelDelta/3);b=!1;a=0<a&&1>a?1:-1<a&&0>a?-1:Math.round(a);k=0<k&&1>k?1:-1<k&&0>k?-1:Math.round(k);if(0<a&&0<n.scrollLeft||0>a&&n.scrollLeft+n.clientWidth<n.scrollWidth)n.scrollLeft-=a,b=!0;if(0<k&&0<s.scrollTop||0>k&&s.scrollTop+s.clientHeight<s.scrollHeight)s.scrollTop-=k,b=!0;b&&Ra(e)}function K(e,a,k,b,o){if(!eb){if(G){var d=[];q.iter(e.line,a.line+1,function(e){d.push(e.text)});for(G.addChange(e.line,k.length,d);G.done.length>
j.undoDepth;)G.done.shift()}U(e,a,k,b,o)}}function P(e,a){if(e.length){for(var k=e.pop(),b=[],o=k.length-1;0<=o;o-=1){var c=k[o],g=[],i=c.start+c.added;q.iter(c.start,i,function(e){g.push(e.text)});b.push({start:c.start,added:c.old.length,old:g});var j=c.start+c.old.length-1,f;f=g[g.length-1];var h=c.old[c.old.length-1];if(h)if(f){for(var n=f.length,m=h.length;0<=n&&0<=m&&f.charAt(n)==h.charAt(m);--n,--m);f=m+1}else f=h.length;else f=0;j={line:j,ch:f};U({line:c.start,ch:0},{line:i-1,ch:d(i-1).text.length},
c.old,j,j)}na=!0;a.push(b)}}function U(e,a,k,b,o){if(!eb){var c=!1,Db=da.length;j.lineWrapping||q.iter(e.line,a.line+1,function(e){if(!e.hidden&&e.text.length==Db)return c=!0});if(e.line!=a.line||1<k.length)ha=!0;var f=a.line-e.line,h=d(e.line),y=d(a.line);if(0==e.ch&&0==a.ch&&""==k[k.length-1]){var m=[],h=null;e.line?(h=d(e.line-1),h.fixMarkEnds(y)):y.fixMarkStarts();for(var r=0,S=k.length-1;r<S;++r)m.push(qa.inheritMarks(k[r],h));f&&q.remove(e.line,f,Sa);m.length&&q.insert(e.line,m)}else if(h==
y)if(1==k.length)h.replace(e.ch,a.ch,k[0]);else{y=h.split(a.ch,k[k.length-1]);h.replace(e.ch,null,k[0]);h.fixMarkEnds(y);m=[];r=1;for(S=k.length-1;r<S;++r)m.push(qa.inheritMarks(k[r],h));m.push(y);q.insert(e.line+1,m)}else if(1==k.length)h.replace(e.ch,null,k[0]),y.replace(null,a.ch,""),h.append(y),q.remove(e.line+1,f,Sa);else{m=[];h.replace(e.ch,null,k[0]);y.replace(null,a.ch,k[k.length-1]);h.fixMarkEnds(y);r=1;for(S=k.length-1;r<S;++r)m.push(qa.inheritMarks(k[r],h));1<f&&q.remove(e.line+1,f-1,Sa);
q.insert(e.line+1,m)}if(j.lineWrapping){var l=Math.max(5,n.clientWidth/Jb()-3);q.iter(e.line,e.line+k.length,function(e){if(!e.hidden){var a=Math.ceil(e.text.length/l)||1;a!=e.height&&g(e,a)}})}else q.iter(e.line,e.line+k.length,function(e){var a=e.text;!e.hidden&&a.length>Db&&(da=a,Db=a.length,Ta=!0,c=!1)}),c&&(Ua=!0);y=[];f=k.length-f-1;r=0;for(m=ja.length;r<m;++r)S=ja[r],S<e.line?y.push(S):S>a.line&&y.push(S+f);var r=e.line+Math.min(k.length,500),m=e.line,D=jb(m);q.iter(m,r,function(e){e.highlight(B,
D,j.tabSize);e.stateAfter=Ha(B,D)});y.push(r);ja=y;Kb(100);ea.push({from:e.line,to:a.line+1,diff:f});e={from:e,to:a,text:k};if(Ia){for(k=Ia;k.next;k=k.next);k.next=e}else Ia=e;Va(z(b),z(o),i.from.line<=Math.min(a.line,a.line+f)?i.from.line:i.from.line+f,i.to.line<=Math.min(a.line,a.line+f)?i.to.line:i.to.line+f)}}function V(){var e=q.height*ka()+2*w.offsetTop;return e-1>n.offsetHeight?e:!1}function Lb(e){var a=V();s.style.display=a?"block":"none";a&&(qc.style.height=a+"px",s.style.height=n.offsetHeight+
"px",null!=e&&(s.scrollTop=e));kb.style.top=Wa*ka()-s.scrollTop+"px"}function Q(e,a,k){function b(c){if(C(c,a))return c;if(!C(k,c))return o;var d=c.line+e.length-(k.line-a.line)-1,Cb=c.ch;c.line==k.line&&(Cb+=e[e.length-1].length-(k.ch-(k.line==a.line?a.ch:0)));return{line:d,ch:Cb}}var a=z(a),k=k?z(k):a,e=Ma(e),o;fa(e,a,k,function(e){o=e;return{from:b(i.from),to:b(i.to)}});return o}function L(e,a){fa(Ma(e),i.from,i.to,function(e){return"end"==a?{from:e,to:e}:"start"==a?{from:i.from,to:i.from}:{from:i.from,
to:e}})}function fa(e,a,k,b){b=b({line:a.line+e.length-1,ch:1==e.length?e[0].length+a.ch:e[e.length-1].length});K(a,k,e,b.from,b.to)}function rc(e,a,k){var b=e.line,c=a.line;if(b==c)return d(b).text.slice(e.ch,a.ch);var g=[d(b).text.slice(e.ch)];q.iter(b+1,c,function(e){g.push(e.text)});g.push(d(c).text.slice(0,a.ch));return g.join(k||"\n")}function db(e){return rc(i.from,i.to,e)}function v(){Ga||Mb.set(j.pollInterval,function(){Nb();hb();Y&&v();Ob()})}function Xa(){function e(){Nb();!hb()&&!a?(a=
!0,Mb.set(60,e)):(Ga=!1,v());Ob()}var a=!1;Ga=!0;Mb.set(20,e)}function hb(){if(Qa||!Y||Rc(t)||j.readOnly)return!1;var e=t.value;if(e==la)return!1;ca=null;for(var a=0,b=Math.min(la.length,e.length);a<b&&la[a]==e[a];)++a;a<la.length?i.from={line:i.from.line,ch:i.from.ch-(la.length-a)}:lb&&u(i.from,i.to)&&(i.to={line:i.to.line,ch:Math.min(d(i.to.line).text.length,i.to.ch+(e.length-a))});L(e.slice(a),"end");1E3<e.length?t.value=la="":la=e;return!0}function ib(e){u(i.from,i.to)?e&&(la=t.value=""):(la=
"",t.value=db(),sc(t))}function ba(){"nocursor"!=j.readOnly&&t.focus()}function X(){var e=wa();return Ba(e.x,e.y,e.x,e.yBot)}function wa(){var e=ma(i.inverted?i.from:i.to);return{x:j.lineWrapping?Math.min(e.x,w.offsetWidth):e.x,y:e.y,yBot:e.yBot}}function Ba(e,a,b,c){e=Ca(e,a,b,c);a=!1;null!=e.scrollLeft&&(n.scrollLeft=e.scrollLeft,a=!0);null!=e.scrollTop&&(s.scrollTop=e.scrollTop,a=!0);if(a&&j.onScroll)j.onScroll(A)}function Ca(e,a,b,c){var o=w.offsetLeft,d=w.offsetTop,a=a+d,c=c+d,e=e+o,b=b+o,g=
n.clientHeight,f=s.scrollTop,i={},h=n.scrollHeight,m=a<d+10,d=c+d>h-10;a<f?i.scrollTop=m?0:Math.max(0,a):c>f+g&&(i.scrollTop=(d?h:c)-g);a=n.clientWidth;c=n.scrollLeft;g=j.fixedGutter?R.clientWidth:0;o=e<g+o+10;e<c+g||o?(o&&(e=0),i.scrollLeft=Math.max(0,e-10-g)):b>a+c-3&&(i.scrollLeft=b+10-a);return i}function Ea(e){var a=ka(),b=(null!=e?e:s.scrollTop)-w.offsetTop,e=Math.max(0,Math.floor(b/a)),a=Math.ceil((b+n.clientHeight)/a);return{from:Pb(q,e),to:Pb(q,a)}}function xa(e,a,b){function c(){var e=Z.firstChild,
a=!1;q.iter(H,W,function(b){if(!b.hidden){var k=Math.round(e.offsetHeight/t)||1;b.height!=k&&(g(b,k),ha=a=!0)}e=e.nextSibling});return a}if(n.clientWidth){var d=Ea(b);if(!0!==e&&0==e.length&&d.from>H&&d.to<W)Lb(b);else{var f=Math.max(d.from-100,0),d=Math.min(q.size,d.to+100);H<f&&20>f-H&&(f=H);W>d&&20>W-d&&(d=Math.min(q.size,W));if(!0===e)e=[];else{for(var i=[{from:H,to:W,domStart:0}],h=0,m=e.length||0;h<m;++h){for(var y=e[h],l=[],r=y.diff||0,S=0,E=i.length;S<E;++S){var D=i[S];y.to<=D.from&&y.diff?
l.push({from:D.from+r,to:D.to+r,domStart:D.domStart}):y.to<=D.from||y.from>=D.to?l.push(D):(y.from>D.from&&l.push({from:D.from,to:y.from,domStart:D.domStart}),y.to<D.to&&l.push({from:y.to+r,to:D.to+r,domStart:D.domStart+(y.to-D.from)}))}i=l}e=i}for(var p=e,i=e=0;i<p.length;++i)h=p[i],h.from<f&&(h.domStart+=f-h.from,h.from=f),h.to>d&&(h.to=d),h.from>=h.to?p.splice(i--,1):e+=h.to-h.from;if(e==d-f&&f==H&&d==W)Lb(b);else{p.sort(function(e,a){return e.domStart-a.domStart});var t=ka(),e=R.style.display;
Z.style.display="none";i=f;h=d;if(p.length){for(var m=function(e){var a=e.nextSibling;e.parentNode.removeChild(e);return a},y=0,v=Z.firstChild,l=0;l<p.length;++l){for(r=p[l];r.domStart>y;)v=m(v),y++;for(var z=0,r=r.to-r.from;z<r;++z)v=v.nextSibling,y++}for(;v;)v=m(v)}else Z.innerHTML="";var w=p.shift(),v=Z.firstChild,z=i,ia=document.createElement("div");q.iter(i,h,function(e){w&&w.to==z&&(w=p.shift());if(!w||w.from>z){if(e.hidden)var a=ia.innerHTML="<pre></pre>";else a="<pre"+(e.className?' class="'+
e.className+'"':"")+">"+e.getHTML(tc)+"</pre>",e.bgClassName&&(a='<div style="position: relative"><pre class="'+e.bgClassName+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+a+"</div>");ia.innerHTML=a;Z.insertBefore(ia.firstChild,v)}else v=v.nextSibling;++z});Z.style.display=R.style.display="";(i=f!=H||d!=W||uc!=n.clientHeight+t)&&(uc=n.clientHeight+t);H=f;W=d;Wa=Qb(q,f);if(Z.childNodes.length!=W-H)throw Error("BAD PATCH! "+JSON.stringify(p)+" size="+
(W-H)+" nodes="+Z.childNodes.length);j.lineWrapping&&(c(),d=(f=V())?"block":"none",s.style.display!=d&&(s.style.display=d,f&&(qc.style.height=f+"px"),c()));R.style.display=e;(i||ha)&&Da()&&j.lineWrapping&&c()&&Da();Lb(b);bb();if(!a&&j.onUpdate)j.onUpdate(A);return!0}}}else H=W=Wa=0}function Da(){if(j.gutter||j.lineNumbers){var e=kb.offsetHeight,a=n.clientHeight;R.style.height=(2>e-a?a:e)+"px";var b=[],c=H,d;q.iter(H,Math.max(W,H+1),function(e){if(e.hidden)b.push("<pre></pre>");else{var a=e.gutterMarker,
J=j.lineNumbers?j.lineNumberFormatter(c+j.firstLineNumber):null;a&&a.text?J=a.text.replace("%N%",null!=J?J:""):null==J&&(J="\u00a0");b.push(a&&a.style?'<pre class="'+a.style+'">':"<pre>",J);for(J=1;J<e.height;++J)b.push("<br/>&#160;");b.push("</pre>");a||(d=c)}++c});R.style.display="none";Ya.innerHTML=b.join("");if(null!=d&&j.lineNumbers){for(var e=Ya.childNodes[d-H],a=String(q.size).length,g=e.firstChild.textContent||e.firstChild.innerText||e.firstChild.nodeValue||"",f="";g.length+f.length<a;)f+=
"\u00a0";f&&e.insertBefore(document.createTextNode(f),e.firstChild)}R.style.display="";e=2<Math.abs((parseInt(w.style.marginLeft)||0)-R.offsetWidth);w.style.marginLeft=R.offsetWidth+"px";ha=!1;return e}}function bb(){var e=u(i.from,i.to),a=ma(i.from,!0),b=e?a:ma(i.to,!0),c=i.inverted?a:b,d=ka(),g=Ja(I),f=Ja(Z);ra.style.top=Math.max(0,Math.min(n.offsetHeight,c.y+f.top-g.top))+"px";ra.style.left=Math.max(0,Math.min(n.offsetWidth,c.x+f.left-g.left))+"px";if(e)$.style.top=c.y+"px",$.style.left=(j.lineWrapping?
Math.min(c.x,w.offsetWidth):c.x)+"px",$.style.display="",mb.style.display="none";else{var e=a.y==b.y,h="",m=w.clientWidth||w.offsetWidth,c=w.clientHeight||w.offsetHeight,g=function(e,a,b,k){h+='<div class="CodeMirror-selected" style="position: absolute; left: '+e+"px; top: "+a+"px; "+(Sc?"width: "+(!b?m:m-b-e)+"px":"right: "+b+"px")+"; height: "+k+'px"></div>'};i.from.ch&&0<=a.y&&g(a.x,a.y,e?m-b.x:0,d);a=Math.max(0,a.y+(i.from.ch?d:0));f=Math.min(b.y,c)-a;f>0.2*d&&g(0,a,0,f);(!e||!i.from.ch)&&b.y<
c-0.5*d&&g(0,b.y,m-b.x,d);mb.innerHTML=h;$.style.display="none";mb.style.display=""}}function oc(e){ca=e?ca||(i.inverted?i.to:i.from):null}function aa(e,a){var b=ca&&z(ca);b&&(C(b,e)?e=b:C(a,b)&&(a=b));Va(e,a);nb=!0}function Va(e,a,b,c){ob=null;null==b&&(b=i.from.line,c=i.to.line);if(!u(i.from,e)||!u(i.to,a)){if(C(a,e))var o=a,a=e,e=o;e.line!=b&&((b=pb(e,b,i.from.ch))?e=b:Rb(e.line,!1));a.line!=c&&(a=pb(a,c,i.to.ch));u(e,a)?i.inverted=!1:u(e,i.to)?i.inverted=!1:u(a,i.from)&&(i.inverted=!0);if(j.autoClearEmptyLines&&
u(i.from,i.to)&&(i.inverted?e:a).line!=i.from.line&&i.from.line<q.size){var g=d(i.from.line);/^\s+$/.test(g.text)&&setTimeout(m(function(){if(g.parent&&/^\s+$/.test(g.text)){var a=Ka(g);Q("",{line:a,ch:0},{line:a,ch:g.text.length})}},10))}i.from=e;i.to=a;sa=!0}}function pb(a,b,k){function c(b){for(var J=a.line+b,o=1==b?q.size:-1;J!=o;){var f=d(J);if(!f.hidden){b=a.ch;if(g||b>k||b>f.text.length)b=f.text.length;return{line:J,ch:b}}J+=b}}var o=d(a.line),g=a.ch==o.text.length&&a.ch!=k;return!o.hidden?
a:a.line>=b?c(1)||c(-1):c(-1)||c(1)}function ta(a,b,k){a=z({line:a,ch:b||0});(k?aa:Va)(a,a)}function qb(a){return Math.max(0,Math.min(a,q.size-1))}function z(a){if(0>a.line)return{line:0,ch:0};if(a.line>=q.size)return{line:q.size-1,ch:d(q.size-1).text.length};var b=a.ch,k=d(a.line).text.length;return null==b||b>k?{line:a.line,ch:k}:0>b?{line:a.line,ch:0}:a}function Sb(a,b){function k(b){if(g==(0>a?0:f.text.length)){if(b=!b)a:{for(var b=o+a,k=0>a?-1:q.size;b!=k;b+=a){var c=d(b);if(!c.hidden){o=b;f=
c;b=!0;break a}}b=void 0}if(b)g=0>a?f.text.length:0;else return!1}else g+=a;return!0}var c=i.inverted?i.from:i.to,o=c.line,g=c.ch,f=d(o);if("char"==b)k();else if("column"==b)k(!0);else if("word"==b)for(c=!1;!(0>a)||k();){if(rb(f.text.charAt(g)))c=!0;else if(c){0>a&&(a=1,k());break}if(0<a&&!k())break}return{line:o,ch:g}}function vc(a){for(var b=d(a.line).text,k=a.ch,c=a.ch,o=rb(b.charAt(k<b.length?k:k-1))?rb:function(a){return!rb(a)};0<k&&o(b.charAt(k-1));)--k;for(;c<b.length&&o(b.charAt(c));)++c;
return{from:{line:a.line,ch:k},to:{line:a.line,ch:c}}}function sb(a,b){b||(b="add");if("smart"==b)if(B.indent)var k=jb(a);else b="prev";var c=d(a),o=c.indentation(j.tabSize),g=c.text.match(/^\s*/)[0],f;"smart"==b&&(f=B.indent(k,c.text.slice(g.length),c.text),f==Eb&&(b="prev"));"prev"==b?f=a?d(a-1).indentation(j.tabSize):0:"add"==b?f=o+j.indentUnit:"subtract"==b&&(f=o-j.indentUnit);f=Math.max(0,f);k="";c=0;if(j.indentWithTabs)for(o=Math.floor(f/j.tabSize);o;--o)c+=j.tabSize,k+="\t";for(;c<f;)++c,k+=
" ";Q(k,{line:a,ch:0},{line:a,ch:g.length})}function wc(){B=l.getMode(j,j.mode);q.iter(0,q.size,function(a){a.stateAfter=null});ja=[0];Kb()}function hc(){if(j.lineWrapping){I.className+=" CodeMirror-wrap";var a=n.clientWidth/Jb()-3;q.iter(0,q.size,function(b){if(!b.hidden){var c=Math.ceil(b.text.length/a)||1;1!=c&&g(b,c)}});w.style.width=ua.style.width="";tb.style.left=""}else I.className=I.className.replace(" CodeMirror-wrap",""),da="",Ta=!0,q.iter(0,q.size,function(a){1!=a.height&&!a.hidden&&g(a,
1);a.text.length>da.length&&(da=a.text)});ea.push({from:0,to:q.size})}function tc(a){var a=j.tabSize-a%j.tabSize,b=xc[a];if(b)return b;for(var b='<span class="cm-tab">',c=0;c<a;++c)b+=" ";return xc[a]={html:b+"</span>",width:a}}function yc(){n.className=n.className.replace(/\s*cm-s-\S+/g,"")+j.theme.replace(/(^|\s)\s*/g," cm-s-")}function zc(){var a=T[j.keyMap].style;I.className=I.className.replace(/\s*cm-keymap-\S+/g,"")+(a?" cm-keymap-"+a:"")}function Tb(){this.set=[]}function Ub(a,b,c){function g(a,
e,b,c){d(a).addMark(new ub(e,b,c,o))}var a=z(a),b=z(b),o=new Tb;if(!C(a,b))return o;if(a.line==b.line)g(a.line,a.ch,b.ch,c);else{g(a.line,a.ch,null,c);for(var f=a.line+1,i=b.line;f<i;++f)g(f,null,null,c);g(b.line,null,b.ch,c)}ea.push({from:a.line,to:b.line+1});return o}function Ac(a,b){var c=a,g=a;"number"==typeof a?g=d(qb(a)):c=Ka(a);if(null!=c&&b(g,c))ea.push({from:c,to:c+1});else return null;return g}function Rb(a,b){return Ac(a,function(a,e){if(a.hidden!=b){a.hidden=b;if(!j.lineWrapping){var c=
a.text;b&&c.length==da.length?Ua=!0:!b&&c.length>da.length&&(da=c,Ua=!1)}g(a,b?0:1);var d=i.from.line,c=i.to.line;if(b&&(d==e||c==e)){d=d==e?pb({line:d,ch:0},d,0):i.from;c=c==e?pb({line:c,ch:0},c,0):i.to;if(!c)return;Va(d,c)}return ha=!0}})}function Vb(a){va.innerHTML="<pre><span>x</span></pre>";va.firstChild.firstChild.firstChild.nodeValue=a;return va.firstChild.firstChild.offsetWidth||10}function Bc(a,b){if(0==b)return{top:0,left:0};var c=j.lineWrapping&&b<a.text.length&&vb.test(a.text.slice(b-
1,b+1));va.innerHTML="<pre>"+a.getHTML(tc,b,Cc,c)+"</pre>";var c=document.getElementById(Cc),d=c.offsetTop,g=c.offsetLeft;oa&&(0==d&&0==g)&&(d=document.createElement("span"),d.innerHTML="x",c.parentNode.insertBefore(d,c.nextSibling),d=d.offsetTop);return{top:d,left:g}}function ma(a,b){var c,g=ka(),f=g*(Qb(q,a.line)-(b?Wa:0));if(0==a.ch)c=0;else{var i=Bc(d(a.line),a.ch);c=i.left;j.lineWrapping&&(f+=Math.max(0,i.top))}return{x:c,y:f,yBot:f+g}}function Wb(a,b){function c(a){a=Bc(m,a);if(y){var e=Math.round(a.top/
g);return Math.max(0,a.left+(e-p)*n.clientWidth)}return a.left}0>b&&(b=0);var g=ka(),f=Jb(),i=Wa+Math.floor(b/g),h=Pb(q,i);if(h>=q.size)return{line:q.size-1,ch:d(q.size-1).text.length};var m=d(h),l=m.text,y=j.lineWrapping,p=y?i-Qb(q,h):0;if(0>=a&&0==p)return{line:h,ch:0};for(var r=i=0,l=l.length,v,f=Math.min(l,Math.ceil((a+0.9*p*n.clientWidth)/f));;){var E=c(f);if(E<=a&&f<l)f=Math.min(l,Math.ceil(1.2*f));else{v=E;l=f;break}}if(a>v)return{line:h,ch:l};f=Math.floor(0.8*l);E=c(f);E<a&&(i=f,r=E);for(;;){if(1>=
l-i)return{line:h,ch:v-a>a-r?i:l};f=Math.ceil((i+l)/2);E=c(f);E>a?(l=f,v=E):(i=f,r=E)}}function ka(){if(null==Aa){Aa="<pre>";for(var a=0;49>a;++a)Aa+="x<br/>";Aa+="x</pre>"}a=Z.clientHeight;if(a==Dc)return Xb;Dc=a;va.innerHTML=Aa;Xb=va.firstChild.offsetHeight/50||1;va.innerHTML="";return Xb}function Jb(){if(n.clientWidth==Ec)return Fc;Ec=n.clientWidth;return Fc=Vb("x")}function Pa(a,b){var c=Ja(n,!0),d,g;try{d=a.clientX,g=a.clientY}catch(f){return null}if(!b&&(d-c.left>n.clientWidth||g-c.top>n.clientHeight))return null;
c=Ja(w,!0);return Wb(d-c.left,g-c.top)}function Gc(a){function b(){var a=Ma(t.value).join("\n");a!=f&&!j.readOnly&&m(L)(a,"end");ra.style.position="relative";t.style.cssText=g;Hc&&(s.scrollTop=d);Qa=!1;ib(!0);v()}var c=Pa(a),d=s.scrollTop;if(c&&!ya){(u(i.from,i.to)||C(c,i.from)||!C(c,i.to))&&m(ta)(c.line,c.ch);var g=t.style.cssText;ra.style.position="absolute";t.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";
Qa=!0;var f=t.value=db();ba();sc(t);if(Fa){Ra(a);var h=p(window,"mouseup",function(){h();setTimeout(b,20)},!0)}else setTimeout(b,50)}}function gb(){clearInterval(Ib);var a=!0;$.style.visibility="";Ib=setInterval(function(){$.style.visibility=(a=!a)?"":"hidden"},650)}function Ic(a){var b=i.inverted?i.from:i.to,c=d(b.line),g=b.ch-1,f=0<=g&&Yb[c.text.charAt(g)]||Yb[c.text.charAt(++g)];if(f){f.charAt(0);for(var h=(f=">"==f.charAt(1))?1:-1,j=c.styles,n=g+1,l=0,p=j.length;l<p;l+=2)if(0>=(n-=j[l].length)){var E=
j[l+1];break}j=[c.text.charAt(g)];n=/[(){}[\]]/;l=b.line;for(p=f?Math.min(l+100,q.size):Math.max(-1,l-100);l!=p;l+=h){var c=d(l),r=l==b.line,v;a:{v=r&&f?g+1:0;r=r&&!f?g:c.text.length;if(c.text)for(var s=c.styles,c=f?0:c.text.length-1,D=void 0,t=f?0:s.length-2,z=f?s.length:-2;t!=z;t+=2*h){var w=s[t];if(s[t+1]!=E)c+=h*w.length;else for(var ia=f?0:w.length-1,A=f?w.length:-1;ia!=A;ia+=h,c+=h)if(c>=v&&c<r&&n.test(D=w.charAt(ia))){var x=Yb[D];if(">"==x.charAt(1)==f)j.push(D);else if(j.pop()!=x.charAt(0)){v=
{pos:c,match:!1};break a}else if(!j.length){v={pos:c,match:!0};break a}}}v=void 0}if(v)break}v||(v={pos:null,match:!1});var E=v.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",B=Ub({line:b.line,ch:g},{line:b.line,ch:g+1},E),u=null!=v.pos&&Ub({line:l,ch:v.pos},{line:l,ch:v.pos+1},E),b=m(function(){B.clear();u&&u.clear()});a?setTimeout(b,800):pa=b}}function Jc(a){for(var b,c,f=a,a=a-40;f>a;--f){if(0==f)return 0;var g=d(f-1);if(g.stateAfter)return f;g=g.indentation(j.tabSize);if(null==
c||b>g)c=f-1,b=g}return c}function jb(a){var b=Jc(a),c=b&&d(b-1).stateAfter,c=c?Ha(B,c):Zb(B);q.iter(b,a,function(a){a.highlight(B,c,j.tabSize);a.stateAfter=Ha(B,c)});b<a&&ea.push({from:b,to:a});a<q.size&&!d(a).stateAfter&&ja.push(a);return c}function Tc(){for(var a=+new Date+j.workTime,b=ja.length;ja.length;){var c=d(H).stateAfter?ja.pop():H;if(!(c>=q.size)){var f=Jc(c),g=f&&d(f-1).stateAfter,g=g?Ha(B,g):Zb(B),i=0,h=B.compareStates,m=!1,l=f,n=!1;q.iter(l,q.size,function(b){var d=b.stateAfter;if(+new Date>
a)return ja.push(l),Kb(j.workDelay),m&&ea.push({from:c,to:l+1}),n=!0;var f=b.highlight(B,g,j.tabSize);f&&(m=!0);b.stateAfter=Ha(B,g);b=null;if(h){var J=d&&h(d,g);J!=Eb&&(b=!!J)}if(null==b)if(!1!==f||!d)i=0;else if(3<++i&&(!B.indent||B.indent(d,"")==B.indent(g,"")))b=!0;if(b)return!0;++l});if(n)return;m&&ea.push({from:c,to:l+1})}}if(b&&j.onHighlightComplete)j.onHighlightComplete(A)}function Kb(a){ja.length&&Uc.set(a,m(Tc))}function Nb(){na=nb=Ia=null;ea=[];sa=!1;Sa=[]}function Ob(){if(Ua){var a=0;
da="";Ta=!0;q.iter(0,q.size,function(b){var c=b.text;!b.hidden&&c.length>a&&(a=c.length,da=c)});Ua=!1}if(Ta&&!j.lineWrapping){var b=tb.offsetWidth,c=Vb(da);tb.style.left=c+"px";w.style.minWidth=c+b+"px";Ta=!1}var d,f;sa&&(b=wa(),d=Ca(b.x,b.y,b.x,b.yBot));ea.length?f=xa(ea,!0,d?d.scrollTop:null):(sa&&bb(),ha&&Da());d&&X();sa&&(b=$.getBoundingClientRect(),oa&&b.top==b.bottom||(c=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),(0>b.top||b.bottom>c)&&X()),
gb());Y&&(!Qa&&(!0===na||!1!==na&&sa))&&ib(nb);sa&&j.matchBrackets&&setTimeout(m(function(){if(pa){pa();pa=null}u(i.from,i.to)&&Ic(false)}),20);c=sa;b=Sa;if(Ia&&j.onChange&&A)j.onChange(A,Ia);if(c&&j.onCursorActivity)j.onCursorActivity(A);for(c=0;c<b.length;++c)b[c](A);if(f&&j.onUpdate)j.onUpdate(A)}function m(a){return function(){Kc++||Nb();try{var b=a.apply(this,arguments)}finally{--Kc||Ob()}return b}}function jc(a){G.startCompound();try{return a()}finally{G.endCompound()}}var j={},$b=l.defaults,
Za;for(Za in $b)$b.hasOwnProperty(Za)&&(j[Za]=(b&&b.hasOwnProperty(Za)?b:$b)[Za]);var I=document.createElement("div");I.className="CodeMirror"+(j.lineWrapping?" CodeMirror-wrap":"");I.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scrollbar"><div class="CodeMirror-scrollbar-inner"></div></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><pre class="CodeMirror-cursor" style="visibility: hidden">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>';
a.appendChild?a.appendChild(I):a(I);var ra=I.firstChild,t=ra.firstChild,n=I.lastChild,ua=n.firstChild,kb=ua.firstChild,R=kb.firstChild,Ya=R.firstChild,w=R.nextSibling.firstChild,va=w.firstChild,$=va.nextSibling,tb=$.nextSibling,mb=tb.nextSibling,Z=mb.nextSibling,s=ra.nextSibling,qc=s.firstChild;yc();zc();ac&&(t.style.width="0px");bc||(n.draggable=!0);w.style.outline="none";null!=j.tabindex&&(t.tabIndex=j.tabindex);j.autofocus&&ba();!j.gutter&&!j.lineNumbers&&(R.style.display="none");cc&&(ra.style.height=
"1px",ra.style.position="absolute");if(Vc){var Lc=s,Wc=Lc.className,La=document.createElement("div"),dc=document.createElement("div");La.className="CodeMirror-scrollbar";La.style.cssText="position: absolute; left: -9999px; height: 100px;";dc.className="CodeMirror-scrollbar-inner";dc.style.height="200px";La.appendChild(dc);document.body.appendChild(La);var Xc=1>=La.offsetWidth;document.body.removeChild(La);Lc.className=Wc+(Xc?" cm-sb-overlap":" cm-sb-nonoverlap")}else Mc&&(s.className+=" cm-sb-ie7");
try{Vb("x")}catch(ec){throw ec.message.match(/runtime/i)&&(ec=Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),ec;}var Mb=new fc,Uc=new fc,Ib,B,q=new wb([new xb([new qa("")])]),ja,Y;wc();var i={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},ca,yb,zb,Na=0,ic=0,cb,lb=!1,eb=!1,na,nb,ea,Ia,sa,Qa,ha,Sa,Wa=0,H=0,W=0,uc=0,pa,da="",Ua=!1,Ta=!0,xc={};m(function(){f(j.value||"");na=false})();var G=new Ab;p(n,"mousedown",m(function(a){function b(a){if(h==
"single")aa(g,a);else if(h=="double"){var e=vc(a);C(a,r)?aa(e.from,s):aa(r,e.to)}else h=="triple"&&(C(a,r)?aa(s,z({line:a.line,ch:0})):aa(r,z({line:a.line+1,ch:0})))}function c(a){var e=Pa(a,true);if(e&&!u(e,l)){Y||N();l=e;b(e);na=false;var d=Ea();if(e.line>=d.to||e.line<d.from)q=setTimeout(m(function(){c(a)}),150)}}function d(a){clearTimeout(q);var e=Pa(a);e&&b(e);F(a);ba();na=true;t();v()}oc(M(a,"shiftKey"));for(var f=a.target||a.srcElement;f!=I;f=f.parentNode)if(f.parentNode==ua&&f!=kb)return;
for(f=a.target||a.srcElement;f!=I;f=f.parentNode)if(f.parentNode==Ya){if(j.onGutterClick)j.onGutterClick(A,$a(Ya.childNodes,f)+H,a);return F(a)}var g=Pa(a);switch(Nc(a)){case 3:Fa&&Gc(a);return;case 2:g&&ta(g.line,g.ch,true);setTimeout(ba,20);F(a);return}if(g){Y||N();var f=+new Date,h="single";if(zb&&zb.time>f-400&&u(zb.pos,g)){h="triple";F(a);setTimeout(ba,20);f=g.line;aa({line:f,ch:0},z({line:f+1,ch:0}))}else if(yb&&yb.time>f-400&&u(yb.pos,g)){h="double";zb={time:f,pos:g};F(a);f=vc(g);aa(f.from,
f.to)}else yb={time:f,pos:g};var l=g,q;if(j.dragDrop&&gc&&!j.readOnly&&!u(i.from,i.to)&&!C(g,i.from)&&!C(i.to,g)&&h=="single"){if(bc)n.draggable=true;var f=function(b){if(bc)n.draggable=false;cb=false;v();E();if(Math.abs(a.clientX-b.clientX)+Math.abs(a.clientY-b.clientY)<10){F(b);ta(g.line,g.ch,true);ba()}},v=p(document,"mouseup",m(f),true),E=p(n,"drop",m(f),true);cb=true;n.dragDrop&&n.dragDrop()}else{F(a);h=="single"&&ta(g.line,g.ch,true);var r=i.from,s=i.to,t=p(document,"mousemove",m(function(a){clearTimeout(q);
F(a);!oa&&!Nc(a)?d(a):c(a)}),true),v=p(document,"mouseup",m(d),true)}}else(a.target||a.srcElement)==n&&F(a)}));p(n,"dblclick",m(function(a){for(var b=a.target||a.srcElement;b!=I;b=b.parentNode)if(b.parentNode==Ya)return F(a);F(a)}));p(w,"selectstart",F);Fa||p(n,"contextmenu",Gc);p(n,"scroll",h);p(s,"scroll",h);p(s,"mousedown",function(){Y&&setTimeout(ba,0)});p(n,"mousewheel",pc);p(n,"DOMMouseScroll",pc);p(window,"resize",function(){xa(true)});p(t,"keyup",m(function(a){if(!j.onKeyEvent||!j.onKeyEvent(A,
Oa(a)))M(a,"keyCode")==16&&(ca=null)}));p(t,"input",Xa);p(t,"keydown",m(ga));p(t,"keypress",m(function(a){Ga&&hb();if(!j.onKeyEvent||!j.onKeyEvent(A,Oa(a))){var b=M(a,"keyCode"),c=M(a,"charCode");if(ya&&b==Gb){Gb=null;F(a)}else if(!(ya&&(!a.which||a.which<10)||cc)||!mc(a)){b=String.fromCharCode(c==null?b:c);j.electricChars&&B.electricChars&&j.smartIndent&&!j.readOnly&&B.electricChars.indexOf(b)>-1&&setTimeout(m(function(){sb(i.to.line,"smart")}),75);if(b=fb("'"+b+"'",j.extraKeys,j.keyMap,function(a){return x(a,
true)})){F(a);gb()}b||Xa()}}}));p(t,"focus",N);p(t,"blur",O);if(j.dragDrop){p(n,"dragstart",ia);var Oc=function(a){(!j.onDragEvent||!j.onDragEvent(A,Oa(a)))&&Ra(a)};p(n,"dragenter",Oc);p(n,"dragover",Oc);p(n,"drop",m(E))}p(n,"paste",function(){ba();Xa()});p(t,"paste",Xa);p(t,"cut",m(function(){j.readOnly||L("")}));cc&&p(ua,"mouseup",function(){document.activeElement==t&&t.blur();ba()});var Pc;try{Pc=document.activeElement==t}catch(Yc){}Pc||j.autofocus?setTimeout(N,20):O();var A=I.CodeMirror={getValue:function(a){var b=
[];q.iter(0,q.size,function(a){b.push(a.text)});return b.join(a||"\n")},setValue:m(f),getSelection:db,replaceSelection:m(L),focus:function(){window.focus();ba();N();Xa()},setOption:function(a,b){var c=j[a];j[a]=b;if(a=="mode"||a=="indentUnit")wc();else if(a=="readOnly"&&b=="nocursor"){O();t.blur()}else a=="readOnly"&&!b?ib(true):a=="theme"?yc():a=="lineWrapping"&&c!=b?m(hc)():a=="tabSize"?xa(true):a=="keyMap"&&zc();if(a=="lineNumbers"||a=="gutter"||a=="firstLineNumber"||a=="theme"){c=j.gutter||j.lineNumbers;
R.style.display=c?"":"none";c?ha=true:Z.parentNode.style.marginLeft=0;xa(true)}},getOption:function(a){return j[a]},undo:m(function(){P(G.done,G.undone)}),redo:m(function(){P(G.undone,G.done)}),indentLine:m(function(a,b){typeof b!="string"&&(b=b==null?j.smartIndent?"smart":"prev":b?"add":"subtract");c(a)&&sb(a,b)}),indentSelection:m(function(a){if(u(i.from,i.to))return sb(i.from.line,a);for(var b=i.to.line-(i.to.ch?0:1),c=i.from.line;c<=b;++c)sb(c,a)}),historySize:function(){return{undo:G.done.length,
redo:G.undone.length}},clearHistory:function(){G=new Ab},setHistory:function(a){G=new Ab;G.done=a.done;G.undone=a.undone},getHistory:function(){G.time=0;return{done:G.done.concat([]),undone:G.undone.concat([])}},matchBrackets:m(function(){Ic(true)}),getTokenAt:m(function(a){a=z(a);return d(a.line).getTokenAt(B,jb(a.line),a.ch)}),getStateAfter:function(a){a=qb(a==null?q.size-1:a);return jb(a+1)},cursorCoords:function(a,b){if(a==null)a=i.inverted;return this.charCoords(a?i.from:i.to,b)},charCoords:function(a,
b){a=z(a);if(b=="local")return ma(a,false);if(b=="div")return ma(a,true);var c=ma(a,true),d=Ja(w);return{x:d.left+c.x,y:d.top+c.y,yBot:d.top+c.yBot}},coordsChar:function(a){var b=Ja(w);return Wb(a.x-b.left,a.y-b.top)},markText:m(Ub),setBookmark:function(a){var a=z(a),b=new Qc(a.ch);d(a.line).addMark(b);return b},findMarksAt:function(a){var a=z(a),b=[],c=d(a.line).marked;if(!c)return b;for(var f=0,g=c.length;f<g;++f){var h=c[f];if((h.from==null||h.from<=a.ch)&&(h.to==null||h.to>=a.ch))b.push(h.marker||
h)}return b},setMarker:m(function(a,b,c){typeof a=="number"&&(a=d(qb(a)));a.gutterMarker={text:b,style:c};ha=true;return a}),clearMarker:m(function(a){typeof a=="number"&&(a=d(qb(a)));a.gutterMarker=null;ha=true}),setLineClass:m(function(a,b,c){return Ac(a,function(a){if(a.className!=b||a.bgClassName!=c){a.className=b;a.bgClassName=c;return true}})}),hideLine:m(function(a){return Rb(a,true)}),showLine:m(function(a){return Rb(a,false)}),onDeleteLine:function(a,b){if(typeof a=="number"){if(!c(a))return null;
a=d(a)}(a.handlers||(a.handlers=[])).push(b);return a},lineInfo:function(a){if(typeof a=="number"){if(!c(a))return null;var b=a,a=d(a);if(!a)return null}else{b=Ka(a);if(b==null)return null}var f=a.gutterMarker;return{line:b,handle:a,text:a.text,markerText:f&&f.text,markerClass:f&&f.style,lineClass:a.className,bgClass:a.bgClassName}},addWidget:function(a,b,c,d,f){var a=ma(z(a)),g=a.yBot,h=a.x;b.style.position="absolute";ua.appendChild(b);if(d=="over")g=a.y;else if(d=="near"){var d=Math.max(n.offsetHeight,
q.height*ka()),i=Math.max(ua.clientWidth,w.clientWidth)-w.offsetLeft;a.yBot+b.offsetHeight>d&&a.y>b.offsetHeight&&(g=a.y-b.offsetHeight);h+b.offsetWidth>i&&(h=i-b.offsetWidth)}b.style.top=g+w.offsetTop+"px";b.style.left=b.style.right="";if(f=="right"){h=ua.clientWidth-b.offsetWidth;b.style.right="0px"}else{f=="left"?h=0:f=="middle"&&(h=(ua.clientWidth-b.offsetWidth)/2);b.style.left=h+w.offsetLeft+"px"}c&&Ba(h,g,h+b.offsetWidth,g+b.offsetHeight)},lineCount:function(){return q.size},clipPos:z,getCursor:function(a){if(a==
null)a=i.inverted;return{line:(a?i.from:i.to).line,ch:(a?i.from:i.to).ch}},somethingSelected:function(){return!u(i.from,i.to)},setCursor:m(function(a,b,c){b==null&&typeof a.line=="number"?ta(a.line,a.ch,c):ta(a,b,c)}),setSelection:m(function(a,b,c){(c?aa:Va)(z(a),z(b||a))}),getLine:function(a){if(c(a))return d(a).text},getLineHandle:function(a){if(c(a))return d(a)},setLine:m(function(a,b){c(a)&&Q(b,{line:a,ch:0},{line:a,ch:d(a).text.length})}),removeLine:m(function(a){c(a)&&Q("",{line:a,ch:0},z({line:a+
1,ch:0}))}),replaceRange:m(Q),getRange:function(a,b,c){return rc(z(a),z(b),c)},triggerOnKeyDown:m(ga),execCommand:function(a){return lc[a](A)},moveH:m(function(a,b){var c=a<0?i.from:i.to;if(ca||u(i.from,i.to))c=Sb(a,b);ta(c.line,c.ch,true)}),deleteH:m(function(a,b){u(i.from,i.to)?a<0?Q("",Sb(a,b),i.to):Q("",i.from,Sb(a,b)):Q("",i.from,i.to);nb=true}),moveV:m(function(a,b){var c=0,d=ma(i.inverted?i.from:i.to,true);if(ob!=null)d.x=ob;b=="page"?c=Math.min(n.clientHeight,window.innerHeight||document.documentElement.clientHeight):
b=="line"&&(c=ka());c=Wb(d.x,d.y+c*a+2);if(b=="page")s.scrollTop=s.scrollTop+(ma(c,true).y-d.y);ta(c.line,c.ch,true);ob=d.x}),toggleOverwrite:function(){if(lb){lb=false;$.className=$.className.replace(" CodeMirror-overwrite","")}else{lb=true;$.className=$.className+" CodeMirror-overwrite"}},posFromIndex:function(a){var b=0,c;q.iter(0,q.size,function(d){d=d.text.length+1;if(d>a){c=a;return true}a=a-d;++b});return z({line:b,ch:c})},indexFromPos:function(a){if(a.line<0||a.ch<0)return 0;var b=a.ch;q.iter(0,
a.line,function(a){b=b+(a.text.length+1)});return b},scrollTo:function(a,b){if(a!=null)n.scrollLeft=a;if(b!=null)s.scrollTop=b;xa([])},getScrollInfo:function(){return{x:n.scrollLeft,y:s.scrollTop,height:s.scrollHeight,width:n.scrollWidth}},setSize:function(a,b){function c(a){a=String(a);return/^\d+$/.test(a)?a+"px":a}if(a!=null)I.style.width=c(a);if(b!=null)n.style.height=c(b)},operation:function(a){return m(a)()},compoundChange:function(a){return jc(a)},refresh:function(){xa(true,null,Na);if(s.scrollHeight>
Na)s.scrollTop=Na},getInputField:function(){return t},getWrapperElement:function(){return I},getScrollerElement:function(){return n},getGutterElement:function(){return R}},Gb=null,nc,Ga=!1,la="",ob=null;Tb.prototype.clear=m(function(){for(var a=Infinity,b=-Infinity,c=0,d=this.set.length;c<d;++c){var f=this.set[c],g=f.marked;if(g&&f.parent){f=Ka(f);a=Math.min(a,f);b=Math.max(b,f);for(f=0;f<g.length;++f)g[f].marker==this&&g.splice(f--,1)}}a!=Infinity&&ea.push({from:a,to:b+1})});Tb.prototype.find=function(){for(var a,
b,c=0,d=this.set.length;c<d;++c)for(var f=this.set[c],g=f.marked,h=0;h<g.length;++h){var i=g[h];if(i.marker==this&&(i.from!=null||i.to!=null)){var j=Ka(f);if(j!=null){i.from!=null&&(a={line:j,ch:i.from});i.to!=null&&(b={line:j,ch:i.to})}}}return{from:a,to:b}};var Cc="CodeMirror-temp-"+Math.floor(16777215*Math.random()).toString(16),Xb,Dc,Aa,Fc,Ec=0,Yb={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},Kc=0,ab;for(ab in Bb)Bb.propertyIsEnumerable(ab)&&!A.propertyIsEnumerable(ab)&&(A[ab]=Bb[ab]);
return A}function Fb(a){return"string"==typeof a?T[a]:a}function fb(a,b,c,d,g){function f(b){var b=Fb(b),c=b[a];if(null!=c&&d(c))return!0;if(b.nofallthrough)return g&&g(),!0;b=b.fallthrough;if(null==b)return!1;if("[object Array]"!=Object.prototype.toString.call(b))return f(b);for(var c=0,l=b.length;c<l;++c)if(f(b[c]))return!0;return!1}return b&&f(b)?!0:f(c)}function Ha(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);var c={},d;for(d in b){var g=b[d];g instanceof Array&&(g=g.concat([]));
c[d]=g}return c}function Zb(a,b,c){return a.startState?a.startState(b,c):!0}function Ba(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8}function ub(a,b,c,d){this.from=a;this.to=b;this.style=c;this.marker=d}function Qc(a){this.to=this.from=a;this.line=null}function qa(a,b){this.styles=b||[a,null];this.text=a;this.height=1;this.stateAfter=this.parent=this.hidden=this.marked=this.gutterMarker=this.className=this.bgClassName=this.handlers=null}function Ca(a,b,c,d){for(var g=0,f=0,h=0;f<b;g+=
2){var l=c[g],p=f+l.length;0==h?(p>a&&d.push(l.slice(a-f,Math.min(l.length,b-f)),c[g+1]),p>=a&&(h=1)):1==h&&(p>b?d.push(l.slice(0,b-f),c[g+1]):d.push(l,c[g+1]));f=p}}function xb(a){this.lines=a;this.parent=null;for(var b=0,c=a.length,d=0;b<c;++b)a[b].parent=this,d+=a[b].height;this.height=d}function wb(a){this.children=a;for(var b=0,c=0,d=0,g=a.length;d<g;++d){var f=a[d],b=b+f.chunkSize(),c=c+f.height;f.parent=this}this.size=b;this.height=c;this.parent=null}function Ka(a){if(null==a.parent)return null;
for(var b=a.parent,a=$a(b.lines,a),c=b.parent;c;b=c,c=c.parent)for(var d=0;c.children[d]!=b;++d)a+=c.children[d].chunkSize();return a}function Pb(a,b){var c=0;a:do{for(var d=0,g=a.children.length;d<g;++d){var f=a.children[d],h=f.height;if(b<h){a=f;continue a}b-=h;c+=f.chunkSize()}return c}while(!a.lines);d=0;for(g=a.lines.length;d<g;++d){f=a.lines[d].height;if(b<f)break;b-=f}return c+d}function Qb(a,b){var c=0;a:do{for(var d=0,g=a.children.length;d<g;++d){var f=a.children[d],h=f.chunkSize();if(b<
h){a=f;continue a}b-=h;c+=f.height}return c}while(!a.lines);for(d=0;d<b;++d)c+=a.lines[d].height;return c}function Ab(){this.time=0;this.done=[];this.undone=[];this.compound=0;this.closed=!1}function hc(){Ra(this)}function Oa(a){a.stop||(a.stop=hc);return a}function F(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function bb(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Ra(a){F(a);bb(a)}function Nc(a){var b=a.which;null==b&&(a.button&1?b=1:a.button&2?b=3:a.button&4&&
(b=2));Hb&&(a.ctrlKey&&1==b)&&(b=3);return b}function M(a,b){return a.override&&a.override.hasOwnProperty(b)?a.override[b]:a[b]}function p(a,b,c,d){if("function"==typeof a.addEventListener){if(a.addEventListener(b,c,!1),d)return function(){a.removeEventListener(b,c,!1)}}else{var g=function(a){c(a||window.event)};a.attachEvent("on"+b,g);if(d)return function(){a.detachEvent("on"+b,g)}}}function fc(){this.id=null}function Da(a,b,c){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));for(var d=0,
g=0;d<b;++d)"\t"==a.charAt(d)?g+=c-g%c:++g;return g}function Ja(a,b){try{var c=a.getBoundingClientRect(),c={top:c.top,left:c.left}}catch(d){c={top:0,left:0}}if(!b)if(null==window.pageYOffset){var g=document.documentElement||document.body.parentNode;null==g.scrollTop&&(g=document.body);c.top+=g.scrollTop;c.left+=g.scrollLeft}else c.top+=window.pageYOffset,c.left+=window.pageXOffset;return c}function sc(a){ac?(a.selectionStart=0,a.selectionEnd=a.value.length):a.select()}function u(a,b){return a.line==
b.line&&a.ch==b.ch}function C(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function ga(a){P.textContent=a;return P.innerHTML}function $a(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;++c)if(a[c]==b)return c;return-1}function rb(a){return/\w/.test(a)||a.toUpperCase()!=a.toLowerCase()}l.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,
onDragEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,dragDrop:!0,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null,lineNumberFormatter:function(a){return a}};var ac=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Hb=ac||/Mac/.test(navigator.platform);
/Win/.test(navigator.platform);var Ea=l.modes={},X=l.mimeModes={};l.defineMode=function(a,b){!l.defaults.mode&&"null"!=a&&(l.defaults.mode=a);if(2<arguments.length){b.dependencies=[];for(var c=2;c<arguments.length;++c)b.dependencies.push(arguments[c])}Ea[a]=b};l.defineMIME=function(a,b){X[a]=b};l.resolveMode=function(a){if("string"==typeof a&&X.hasOwnProperty(a))a=X[a];else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return l.resolveMode("application/xml");return"string"==typeof a?{name:a}:
a||{name:"null"}};l.getMode=function(a,b){var b=l.resolveMode(b),c=Ea[b.name];return!c?l.getMode(a,"text/plain"):c(a,b)};l.listModes=function(){var a=[],b;for(b in Ea)Ea.propertyIsEnumerable(b)&&a.push(b);return a};l.listMIMEs=function(){var a=[],b;for(b in X)X.propertyIsEnumerable(b)&&a.push({mime:b,mode:X[b]});return a};var Bb=l.extensions={};l.defineExtension=function(a,b){Bb[a]=b};var lc=l.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1})},killLine:function(a){var b=
a.getCursor(!0),c=a.getCursor(!1),d=!u(b,c);!d&&a.getLine(b.line).length==b.ch?a.replaceRange("",b,{line:b.line+1,ch:0}):a.replaceRange("",b,d?c:{line:b.line})},deleteLine:function(a){var b=a.getCursor().line;a.replaceRange("",{line:b,ch:0},{line:b})},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,0,!0)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-1},null,!0)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,!0)},goLineStartSmart:function(a){var b=
a.getCursor(),c=a.getLine(b.line),c=Math.max(0,c.search(/\S/));a.setCursor(b.line,b.ch<=c&&b.ch?0:c,!0)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},null,!0)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,
"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,"word")},delCharLeft:function(a){a.deleteH(-1,"char")},delCharRight:function(a){a.deleteH(1,"char")},delWordLeft:function(a){a.deleteH(-1,"word")},delWordRight:function(a){a.deleteH(1,"word")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t","end")},defaultTab:function(a){a.somethingSelected()?
a.indentSelection("add"):a.replaceSelection("\t","end")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);0<b.ch&&b.ch<c.length-1&&a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-1),{line:b.line,ch:b.ch-1},{line:b.line,ch:b.ch+1})},newlineAndIndent:function(a){a.replaceSelection("\n","end");a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}},T=l.keyMap={};T.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",
PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};T.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft",
"Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};T.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft",
"Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};T["default"]=Hb?T.macDefault:T.pcDefault;T.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp",
"Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};l.fromTextArea=function(a,b){function c(){a.value=h.getValue()}b||(b={});b.value=a.value;!b.tabindex&&a.tabindex&&(b.tabindex=a.tabindex);null==b.autofocus&&null!=a.getAttribute("autofocus")&&(b.autofocus=!0);if(a.form){var d=p(a.form,"submit",c,!0);if("function"==typeof a.form.submit){var g=a.form.submit,f=function(){c();a.form.submit=
g;a.form.submit();a.form.submit=f};a.form.submit=f}}a.style.display="none";var h=l(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);h.save=c;h.getTextArea=function(){return a};h.toTextArea=function(){c();a.parentNode.removeChild(h.getWrapperElement());a.style.display="";if(a.form){d();if(typeof a.form.submit=="function")a.form.submit=g}};return h};l.copyState=Ha;l.startState=Zb;Ba.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},
next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);
if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){return Da(this.string,this.start,this.tabSize)},indentation:function(){return Da(this.string,null,this.tabSize)},match:function(a,b,c){if("string"==typeof a){if((c?this.string.toLowerCase():this.string).indexOf(c?a.toLowerCase():a,this.pos)==this.pos)return!1!==b&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&!1!==b)this.pos+=a[0].length;return a}},current:function(){return this.string.slice(this.start,
this.pos)}};l.StringStream=Ba;ub.prototype={attach:function(a){this.marker.set.push(a)},detach:function(a){a=$a(this.marker.set,a);-1<a&&this.marker.set.splice(a,1)},split:function(a,b){return this.to<=a&&null!=this.to?null:new ub(this.from<a||null==this.from?null:this.from-a+b,null==this.to?null:this.to-a+b,this.style,this.marker)},dup:function(){return new ub(null,null,this.style,this.marker)},clipTo:function(a,b,c,d,g){a&&d>this.from&&(d<this.to||null==this.to)?this.from=null:null!=this.from&&
this.from>=b&&(this.from=Math.max(d,this.from)+g);c&&(b<this.to||null==this.to)&&(b>this.from||null==this.from)?this.to=null:null!=this.to&&this.to>b&&(this.to=d<this.to?this.to+g:b)},isDead:function(){return null!=this.from&&null!=this.to&&this.from>=this.to},sameSet:function(a){return this.marker==a.marker}};Qc.prototype={attach:function(a){this.line=a},detach:function(a){this.line==a&&(this.line=null)},split:function(a,b){if(a<this.from)return this.from=this.to=this.from-a+b,this},isDead:function(){return this.from>
this.to},clipTo:function(a,b,c,d,g){(a||b<this.from)&&(c||d>this.to)?(this.from=0,this.to=-1):this.from>b&&(this.from=this.to=Math.max(d,this.from)+g)},sameSet:function(){return!1},find:function(){return!this.line||!this.line.parent?null:{line:Ka(this.line),ch:this.from}},clear:function(){if(this.line){var a=$a(this.line.marked,this);-1!=a&&this.line.marked.splice(a,1);this.line=null}}};qa.inheritMarks=function(a,b){var c=new qa(a),d=b&&b.marked;if(d)for(var g=0;g<d.length;++g)if(null==d[g].to&&d[g].style){var f=
c.marked||(c.marked=[]),h=d[g].dup();f.push(h);h.attach(c)}return c};qa.prototype={replace:function(a,b,c){var d=[],g=this.marked,f=null==b?this.text.length:b;Ca(0,a,this.styles,d);c&&d.push(c,null);Ca(f,this.text.length,this.styles,d);this.styles=d;this.text=this.text.slice(0,a)+c+this.text.slice(f);this.stateAfter=null;if(g){c=c.length-(f-a);for(d=0;d<g.length;++d){var h=g[d];h.clipTo(null==a,a||0,null==b,f,c);h.isDead()&&(h.detach(this),g.splice(d--,1))}}},split:function(a,b){var c=[b,null],d=
this.marked;Ca(a,this.text.length,this.styles,c);c=new qa(b+this.text.slice(a),c);if(d)for(var g=0;g<d.length;++g){var f=d[g],h=f.split(a,b.length);h&&(c.marked||(c.marked=[]),c.marked.push(h),h.attach(c),h==f&&d.splice(g--,1))}return c},append:function(a){var b=this.text.length,c=a.marked,d=this.marked;this.text+=a.text;Ca(0,a.text.length,a.styles,this.styles);if(d)for(a=0;a<d.length;++a)null==d[a].to&&(d[a].to=b);if(c&&c.length){d||(this.marked=d=[]);a=0;a:for(;a<c.length;++a){var g=c[a];if(!g.from)for(var f=
0;f<d.length;++f){var h=d[f];if(h.to==b&&h.sameSet(g)){h.to=null==g.to?null:g.to+b;h.isDead()&&(h.detach(this),c.splice(a--,1));continue a}}d.push(g);g.attach(this);g.from+=b;null!=g.to&&(g.to+=b)}}},fixMarkEnds:function(a){var b=this.marked,a=a.marked;if(b){var c=0;a:for(;c<b.length;++c){var d=b[c],g=null==d.to;if(g&&a)for(var f=0;f<a.length;++f){var h=a[f];if(h.sameSet(d)&&null==h.from)if(d.from==this.text.length&&0==h.to){a.splice(f,1);b.splice(c--,1);continue a}else{g=!1;break}}g&&(d.to=this.text.length)}}},
fixMarkStarts:function(){var a=this.marked;if(a)for(var b=0;b<a.length;++b)null==a[b].from&&(a[b].from=0)},addMark:function(a){a.attach(this);null==this.marked&&(this.marked=[]);this.marked.push(a);this.marked.sort(function(a,c){return(a.from||0)-(c.from||0)})},highlight:function(a,b,c){var c=new Ba(this.text,c),d=this.styles,g=0,f=!1,h=d[0],l;for(""==this.text&&a.blankLine&&a.blankLine(b);!c.eol();){var p=a.token(c,b),x=this.text.slice(c.start,c.pos);c.start=c.pos;if(g&&d[g-1]==p)d[g-2]+=x;else if(x){if(!f&&
(d[g+1]!=p||g&&d[g-2]!=l))f=!0;d[g++]=x;d[g++]=p;l=h;h=d[g]}if(5E3<c.pos){d[g++]=this.text.slice(c.pos);d[g++]=null;break}}d.length!=g&&(d.length=g,f=!0);g&&d[g-2]!=l&&(f=!0);return f||(5>d.length&&10>this.text.length?null:!1)},getTokenAt:function(a,b,c){for(var d=new Ba(this.text);d.pos<c&&!d.eol();){d.start=d.pos;var g=a.token(d,b)}return{start:d.start,end:d.pos,string:d.current(),className:g||null,state:b}},indentation:function(a){return Da(this.text,null,a)},getHTML:function(a,b,c,d){function g(b,
c){if(b){l&&(oa&&" "==b.charAt(0))&&(b="\u00a0"+b.slice(1));l=!1;if(-1==b.indexOf("\t")){p+=b.length;var d=ga(b)}else for(var d="",f=0;;){var g=b.indexOf("\t",f);if(-1==g){d+=ga(b.slice(f));p+=b.length-f;break}else{p+=g-f;var u=a(p),d=d+(ga(b.slice(f,g))+u.html);p+=u.width;f=g+1}}c?h.push('<span class="',c,'">',d,"</span>"):h.push(d)}}function f(a){return!a?null:"cm-"+a.replace(/ +/g," cm-")}var h=[],l=!0,p=0,x=g;if(null!=b)var u=0,F='<span id="'+c+'">',x=function(a,c){var f=a.length;if(b>=u&&b<u+
f){b>u&&(g(a.slice(0,b-u),c),d&&h.push("<wbr>"));h.push(F);var l=b-u;g(ya?a.slice(l,l+1):a.slice(l),c);h.push("</span>");ya&&g(a.slice(l+1),c);b--;u+=f}else u+=f,g(a,c),u==b&&u==C?h.push(F+(Fa||oa&&!Mc?"&#x200b;":" ")+"</span>"):u>b+10&&/\s/.test(a)&&(x=function(){})};var c=this.styles,N=this.text,O=this.marked,C=N.length;if(!N&&null==b)x(" ");else if(!O||!O.length)for(O=N=0;O<C;N+=2){var K=c[N],M=c[N+1],U=K.length;O+U>C&&(K=K.slice(0,C-O));O+=U;x(K,f(M))}else for(var N=K=0,U="",V=O[0].from||0,P=
[],Q=0;K<C;){if(V==K){for(V=void 0;Q<O.length&&((V=O[Q]).from==K||null==V.from);)null!=V.style&&P.push(V),++Q;for(var V=Q<O.length?O[Q].from:Infinity,L=0;L<P.length;++L){var fa=P[L].to;null==fa&&(fa=Infinity);fa==K?P.splice(L--,1):V=Math.min(fa,V)}}for(L=Math.min(C,V);;){if(U){for(var fa=K+U.length,T=M,X=0;X<P.length;++X)T=(T?T+" ":"")+P[X].style;x(fa>L?U.slice(0,L-K):U,T);if(fa>=L){U=U.slice(L-K);K=L;break}K=fa}U=c[N++];M=f(c[N++])}}return h.join("")},cleanUp:function(){this.parent=null;if(this.marked)for(var a=
0,b=this.marked.length;a<b;++a)this.marked[a].detach(this)}};xb.prototype={chunkSize:function(){return this.lines.length},remove:function(a,b,c){for(var d=a,g=a+b;d<g;++d){var f=this.lines[d];this.height-=f.height;f.cleanUp();if(f.handlers)for(var h=0;h<f.handlers.length;++h)c.push(f.handlers[h])}this.lines.splice(a,b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,b,c){this.height+=c;this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));
a=0;for(c=b.length;a<c;++a)b[a].parent=this},iterN:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return!0}};wb.prototype={chunkSize:function(){return this.size},remove:function(a,b,c){this.size-=b;for(var d=0;d<this.children.length;++d){var g=this.children[d],f=g.chunkSize();if(a<f){var h=Math.min(b,f-a),l=g.height;g.remove(a,h,c);this.height-=l-g.height;f==h&&(this.children.splice(d--,1),g.parent=null);if(0==(b-=h))break;a=0}else a-=f}25>this.size-b&&(a=[],this.collapse(a),this.children=
[new xb(a)],this.children[0].parent=this)},collapse:function(a){for(var b=0,c=this.children.length;b<c;++b)this.children[b].collapse(a)},insert:function(a,b){for(var c=0,d=0,g=b.length;d<g;++d)c+=b[d].height;this.insertHeight(a,b,c)},insertHeight:function(a,b,c){this.size+=b.length;this.height+=c;for(var d=0,g=this.children.length;d<g;++d){var f=this.children[d],h=f.chunkSize();if(a<=h){f.insertHeight(a,b,c);if(f.lines&&50<f.lines.length){for(;50<f.lines.length;)a=f.lines.splice(f.lines.length-25,
25),a=new xb(a),f.height-=a.height,this.children.splice(d+1,0,a),a.parent=this;this.maybeSpill()}break}a-=h}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),b=new wb(b);if(a.parent){a.size-=b.size;a.height-=b.height;var c=$a(a.parent.children,a);a.parent.children.splice(c+1,0,b)}else c=new wb(a.children),c.parent=a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iter:function(a,b,c){this.iterN(a,
b-a,c)},iterN:function(a,b,c){for(var d=0,g=this.children.length;d<g;++d){var f=this.children[d],h=f.chunkSize();if(a<h){h=Math.min(b,h-a);if(f.iterN(a,h,c))return!0;if(0==(b-=h))break;a=0}else a-=h}}};Ab.prototype={addChange:function(a,b,c){this.undone.length=0;var d=+new Date,g=this.done[this.done.length-1],f=g&&g[g.length-1],h=d-this.time;if(this.compound&&g&&!this.closed)g.push({start:a,added:b,old:c});else if(400<h||!f||this.closed||f.start>a+c.length||f.start+f.added<a)this.done.push([{start:a,
added:b,old:c}]),this.closed=!1;else{for(var g=Math.max(0,f.start-a),h=Math.max(0,a+c.length-(f.start+f.added)),l=g;0<l;--l)f.old.unshift(c[l-1]);for(l=h;0<l;--l)f.old.push(c[c.length-l]);g&&(f.start=a);f.added+=b-(c.length-g-h)}this.time=d},startCompound:function(){this.compound++||(this.closed=!0)},endCompound:function(){--this.compound||(this.closed=!0)}};l.e_stop=Ra;l.e_preventDefault=F;l.e_stopPropagation=bb;l.connect=p;fc.prototype={set:function(a,b){clearTimeout(this.id);this.id=setTimeout(b,
a)}};var Eb=l.Pass={toString:function(){return"CodeMirror.Pass"}},Fa=/gecko\/\d{7}/i.test(navigator.userAgent),oa=/MSIE \d/.test(navigator.userAgent),Mc=/MSIE [1-7]\b/.test(navigator.userAgent),Hc=/MSIE [1-8]\b/.test(navigator.userAgent),Sc=oa&&5==document.documentMode,bc=/WebKit\//.test(navigator.userAgent),kc=/Chrome\//.test(navigator.userAgent),ya=/Opera\//.test(navigator.userAgent),x=/Apple Computer/.test(navigator.vendor),cc=/KHTML\//.test(navigator.userAgent),Vc=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent),
gc;if(Hc)gc=!1;else{var wa=document.createElement("div");gc="draggable"in wa||"dragDrop"in wa}wa=document.createElement("textarea");wa.value="foo\nbar";wa.value.indexOf("\r");var vb=/^$/;Fa?vb=/$'/:x?vb=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:kc&&(vb=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);var P=document.createElement("pre");"\na"==ga("a")?ga=function(a){P.textContent=a;return P.innerHTML.slice(1)}:"\t"!=ga("\t")&&(ga=function(a){P.innerHTML="";P.appendChild(document.createTextNode(a));
return P.innerHTML});l.htmlEscape=ga;var Ma=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],d=a.length;b<=d;){var g=a.indexOf("\n",b);-1==g&&(g=a.length);var f=a.slice(b,"\r"==a.charAt(g-1)?g-1:g),h=f.indexOf("\r");-1!=h?(c.push(f.slice(0,h)),b+=h+1):(c.push(f),b=g+1)}return c}:function(a){return a.split(/\r\n?|\n/)};l.splitLines=Ma;var Rc=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return!b||
b.parentElement()!=a?!1:0!=b.compareEndPoints("StartToEnd",b)};l.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});l.defineMIME("text/plain","null");var za={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",
189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};l.keyNames=za;for(x=0;10>x;x++)za[x+48]=String(x);for(x=65;90>=x;x++)za[x]=String.fromCharCode(x);for(x=1;12>=x;x++)za[x+111]=za[x+63235]="F"+x;return l}();